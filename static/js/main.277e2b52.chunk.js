(this["webpackJsonpsimple-inviter"]=this["webpackJsonpsimple-inviter"]||[]).push([[0],{16:function(e,t,n){e.exports=n(29)},21:function(e,t,n){},22:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(7),i=n.n(r),o=(n(21),n(22),n(2)),l=n(1),u=n(4),s=n(3),m=function(e){var t=e.url,n=e.method,a=e.data;return fetch(t,{method:n,mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})},b=function(e){console.log(e.status+" "+e.statusText)},d=Object(s.b)(null,(function(e){return{login:function(t){return e(function(e){return function(t,n){console.log("data sent- ",JSON.stringify(e)),m("http//:test.kruntummy.com/apii/login/").then((function(e){return e.ok?t({type:"LOGIN_SUCCESS"}):b(e),t({type:"LOGIN_SUCCESS"}),e.json()})).then((function(e){console.log("API DATA -",e)}))}}(t))}}}))((function(e){var t=Object(a.useState)({userName:"",password:""}),n=Object(u.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)({userName:"",password:""}),m=Object(u.a)(s,2),b=m[0],d=m[1],f=function(e){i(Object(l.a)(Object(l.a)({},r),{},Object(o.a)({},e.target.name,e.target.value))),d(Object(l.a)(Object(l.a)({},b),{},Object(o.a)({},e.target.name,"")))},p=function(){return Object.keys(r).map((function(e){return!(!r[t=e]&&(d(Object(l.a)(Object(l.a)({},b),{},Object(o.a)({},t,"It cannot be empty"))),1));var t})).reduce((function(e,t){return e&&t}))&&e.login(r),!0};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"login-wrapper"},c.a.createElement("input",{type:"text",name:"userName",className:"userName",placeholder:b.userName||"Username",onChange:function(e){f(e)},value:r.userName}),c.a.createElement("input",{type:"password",name:"password",className:b.password||"Password",placeholder:"Password",onChange:function(e){return f(e)},value:r.password}),c.a.createElement("button",{onClick:function(){return p()}},"Login")))})),f=n(15),p=Object(s.b)(null,(function(e){return{sendInvite:function(t){return e(function(e){return function(t,n){console.log("data sent- ",JSON.stringify(e)),m("http://test.kruntummy.com/apii/accounts/send_invitation/").then((function(e){return 200===e.status?t({type:"INVITE_SENT"}):b(e),e.json()})).then((function(e){console.log("API DATA -",e)}))}}(t))}}}))((function(e){var t=Object(a.useState)({email:"",mobile:""}),n=Object(u.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)({email:"",mobile:""}),m=Object(u.a)(s,2),b=m[0],d=m[1],p=Object(a.useState)([]),O=Object(u.a)(p,2),v=O[0],j=O[1],g=v.map((function(e,t){return c.a.createElement("div",{className:"list-item"},c.a.createElement("span",{className:"eamil"},"Email: ",e.email),c.a.createElement("span",{className:"mobile"},"Mobile: ",e.mobile),c.a.createElement("button",{onClick:function(){return N(t)}},"Remove"))})),E=function(e){i(Object(l.a)(Object(l.a)({},r),{},Object(o.a)({},e.target.name,e.target.value))),d(Object(l.a)(Object(l.a)({},b),{},Object(o.a)({},e.target.name,"")))},h=function(){return Object.keys(r).map((function(e){return!(!r[t=e]&&(d(Object(l.a)(Object(l.a)({},b),{},Object(o.a)({},t,"It cannot be empty"))),1));var t})).reduce((function(e,t){return e&&t}))},N=function(e){var t=v.filter((function(t,n){return n!==e}));j(t)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"invite-wrapper"},c.a.createElement("div",null,c.a.createElement("div",{className:"inviter-adder"},c.a.createElement("input",{type:"text",name:"email",className:"email",placeholder:b.email||"Email",onChange:function(e){E(e)},value:r.email}),c.a.createElement("input",{type:"text",name:"mobile",className:"mobile",placeholder:b.mobile||"Mobile Number",onChange:function(e){E(e)},value:r.mobile}),c.a.createElement("button",{onClick:function(){return function(){if(!h())return!1;j([].concat(Object(f.a)(v),[Object(l.a)(Object(l.a)({},r),{},{index:v.length})])),i({email:"",mobile:""})}()}},"Add")),c.a.createElement("div",{className:"invitee-list"},g)),c.a.createElement("button",{onClick:function(){return function(){var t=v.map((function(e,t){return Object(l.a)(Object(l.a)({},e),{},{index:t})}));e.sendInvite(t),j([])}()}},"Send Invite")))}));var O=Object(s.b)((function(e){return{main:e}}))((function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"background-main"}),c.a.createElement("div",{className:"background-shine obtuse"}),c.a.createElement("div",{className:"background-shine acute"}),c.a.createElement("main",null,function(){switch(e.main.activeView){case"login":return c.a.createElement(d,null);case"invite":return c.a.createElement(p,null);default:return c.a.createElement(d,null)}}()))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var v=n(6),j={activeView:"login"},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return console.log("LOGIN_SUCCESS"),Object(l.a)(Object(l.a)({},e),{},{activeView:"invite"});default:return e}},E=n(14),h=Object(v.c)(g,Object(v.a)(E.a));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(s.a,{store:h},c.a.createElement(O,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.277e2b52.chunk.js.map